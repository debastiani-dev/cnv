{% extends 'layouts/base_dashboard.html' %}
{% load i18n static %}

{% block title %}{{ partner.name }}{% endblock %}

{% block content %}
<div class="px-4 sm:px-6 lg:px-8">
    
    <!-- Breadcrumb / Back Navigation -->
    <div class="mb-8">
        <a href="{% url 'partners:list' %}" class="text-sm font-medium text-gray-500 hover:text-gray-700 flex items-center dark:text-gray-400 dark:hover:text-gray-300">
            <svg class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd" />
            </svg>
            {% trans "Back to Partner List" %}
        </a>
    </div>

    <div class="overflow-hidden rounded-lg bg-white shadow ring-1 ring-black ring-opacity-5 dark:bg-gray-800 dark:ring-gray-700">
        
        <div class="px-4 pb-6 sm:px-6">
            <!-- Profile Info Wrapper -->
            <div class="mt-6 sm:flex sm:items-center sm:justify-between">
                <div class="sm:flex-auto">
                     <h1 class="truncate text-3xl font-bold text-gray-900 dark:text-white">{{ partner.name }}</h1>
                     <p class="mt-2 text-sm font-medium text-gray-500 dark:text-gray-400">
                        {% if partner.is_customer %}{% trans "Customer" %}{% endif %}
                        {% if partner.is_customer and partner.is_supplier %} &bull; {% endif %}
                        {% if partner.is_supplier %}{% trans "Supplier" %}{% endif %}
                     </p>
                </div>
            </div>

        <!-- Details Grid -->
        <dl class="mt-6">
            <!-- Full Name -->
            <div class="border-t border-gray-100 bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:border-gray-700 dark:bg-gray-800/50">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">{% trans "Full Name" %}</dt>
                <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 dark:text-white">{{ partner.name }}</dd>
            </div>

            <!-- Email -->
            <div class="border-t border-gray-100 bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:border-gray-700 dark:bg-gray-800">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">{% trans "Email" %}</dt>
                <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 dark:text-white">{{ partner.email|default:"-" }}</dd>
            </div>

            <!-- Phone -->
            <div class="border-t border-gray-100 bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:border-gray-700 dark:bg-gray-800/50">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">{% trans "Phone" %}</dt>
                <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 dark:text-white">{{ partner.phone|default:"-" }}</dd>
            </div>

            <!-- Tax ID -->
            <div class="border-t border-gray-100 bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:border-gray-700 dark:bg-gray-800">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">{% trans "Tax ID (CPF/CNPJ)" %}</dt>
                <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 dark:text-white">{{ partner.tax_id|default:"-" }}</dd>
            </div>
            
            <!-- Address -->
            <div class="border-t border-gray-100 bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:border-gray-700 dark:bg-gray-800/50">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">{% trans "Address" %}</dt>
                <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 dark:text-white">
                    {% if partner.street %}
                        {{ partner.street }}
                        {% if partner.number %}, {{ partner.number }}{% endif %}
                        {% if partner.complement %}, {{ partner.complement }}{% endif %}
                        <br>
                        {{ partner.district }} - {{ partner.city }}/{{ partner.state }}
                        <br>
                        {{ partner.zip_code }}
                    {% else %}
                        -
                    {% endif %}
                </dd>
            </div>
        </dl>
        
        <!-- Footer / Action Buttons -->
        <div class="border-t border-gray-200 bg-gray-50 px-4 py-4 sm:px-6 flex justify-end space-x-4 dark:border-gray-700 dark:bg-gray-800/50">
             <a href="{% url 'partners:update' partner.pk %}" class="inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-700 dark:text-white dark:ring-gray-600 dark:hover:bg-gray-600">
                <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z" />
                    <path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z" />
                </svg>
                {% trans "Edit Partner" %}
            </a>
            <a href="{% url 'partners:delete' partner.pk %}" class="inline-flex justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500">
                {% trans "Delete Partner" %}
            </a>
        </div>
    </div>
</div>
{% endblock %}
